<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="5150.8333px" preserveAspectRatio="none" style="width:4039px;height:5150px;background:#272727;" version="1.1" viewBox="0 0 4039 5150" width="4039.5833px" zoomAndPan="magnify"><title>**PlantUML Collaboration Stack - Architecture v1.5.1**
&lt;size:14&gt;github.com/JoZapf/EMPC4-containerized-visualization-environment&lt;/size&gt;
&lt;size:14&gt;EMPC4 VIS Stack | WebSocket Sync via Socket.IO | **Opt-in Consent**&lt;/size&gt;</title><defs><filter height="300%" id="fdrzglctwjkel" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.9167"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.8333" dy="5.8333" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#272727" height="5150.8333" style="stroke:none;stroke-width:1.4583;" width="4039.5833" x="0" y="0"/><g class="title" data-source-line="13"><text fill="#FFFFFF" font-family="'Segoe UI'" font-size="55.4167" font-weight="bold" lengthAdjust="spacing" textLength="1594.1762" x="1216.1411" y="84.9807">PlantUML Collaboration Stack - Architecture v1.5.1</text><text fill="#FFFFFF" font-family="'Segoe UI'" font-size="20.4167" font-weight="bold" lengthAdjust="spacing" textLength="772.1448" x="1627.1568" y="117.0013">github.com/JoZapf/EMPC4-containerized-visualization-environment</text><text fill="#FFFFFF" font-family="'Segoe UI'" font-size="20.4167" font-weight="bold" lengthAdjust="spacing" textLength="580.6787" x="1632.9937" y="140.7676">EMPC4 VIS Stack | WebSocket Sync via Socket.IO |</text><text fill="#FFFFFF" font-family="'Segoe UI'" font-size="20.4167" font-weight="bold" lengthAdjust="spacing" textLength="172.6843" x="2220.7803" y="140.7676">Opt-in Consent</text></g><!--cluster **Client Layer**--><g class="cluster" data-qualified-name="..Client Layer.." data-source-line="38" id="ent0002"><rect fill="#E3F2FD" filter="url(#fdrzglctwjkel)" height="4950.7938" rx="5.8333" ry="5.8333" style="stroke:#1976D2;stroke-width:1.4583;" width="1551.6667" x="17.5" y="183.4993"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="168.3278" x="709.1694" y="227.8632">&#171;browser&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="217.2361" x="684.7153" y="288.5435">Client Layer</text></g><!--cluster browserA--><g class="cluster" data-qualified-name="..Client Layer...browserA" data-source-line="39" id="ent0003"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="4217.1208" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="700" x="64.1667" y="355.5827"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="184.6358" x="321.8488" y="399.9465">Browser A</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="192.2963" x="318.0185" y="437.2935">(Windows)</text></g><!--cluster browserB--><g class="cluster" data-qualified-name="..Client Layer...browserB" data-source-line="47" id="ent0009"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="3885.6125" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="700" x="822.5" y="1202.0139"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="184.2598" x="1080.3701" y="1246.3777">Browser B</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="162.2026" x="1091.3987" y="1283.7247">(Ubuntu)</text></g><!--cluster **Host Layer** - arch.local--><g class="cluster" data-qualified-name="..Host Layer.. - arch.local" data-source-line="71" id="ent0016"><rect fill="#FFF3E0" filter="url(#fdrzglctwjkel)" height="481.6146" rx="5.8333" ry="5.8333" style="stroke:#F57C00;stroke-width:1.4583;" width="972.7083" x="1640.625" y="1580.9618"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="108.5162" x="2072.721" y="1625.3257">&#171;host&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="195.0848" x="1923.4975" y="1686.006">Host Layer</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="200.7088" x="2129.752" y="1686.006">- arch.local</text></g><!--cluster **Docker Network** - empc4_net--><g class="cluster" data-qualified-name="..Docker Network.. - empc4_net" data-source-line="87" id="ent0021"><rect fill="#E8F5E9" filter="url(#fdrzglctwjkel)" height="2139.5937" rx="5.8333" ry="5.8333" style="stroke:#388E3C;stroke-width:1.4583;" width="2417.9167" x="1604.1667" y="2209.8681"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="148.4011" x="2738.9245" y="2254.2319">&#171;docker&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="290.5672" x="2552.2756" y="2314.9122">Docker Network</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="219.962" x="2854.0125" y="2314.9122">- empc4_net</text></g><!--cluster traefik--><g class="cluster" data-qualified-name="..Docker Network.. - empc4_net.traefik" data-source-line="89" id="ent0022"><rect fill="#F3E5F5" filter="url(#fdrzglctwjkel)" height="426.8542" rx="5.8333" ry="5.8333" style="stroke:#7B1FA2;stroke-width:1.4583;" width="1290.625" x="2051.875" y="2381.9514"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="143.2157" x="2625.5796" y="2426.3152">&#171;traefik&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="127.4091" x="2633.483" y="2486.9956">Traefik</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="256.4003" x="2568.9873" y="2524.3426">empc4_traefik</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="272.63" x="2560.8725" y="2561.6896">127.0.0.1:8100</text></g><!--cluster proxyContainer--><g class="cluster" data-qualified-name="..Docker Network.. - empc4_net.proxyContainer" data-source-line="95" id="ent0026"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="1021.6938" rx="5.8333" ry="5.8333" style="stroke:#78909C;stroke-width:1.4583;" width="615.4167" x="1639.1667" y="2945.8889"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="191.2781" x="1851.236" y="2990.2527">&#171;container&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="276.8127" x="1808.4686" y="3050.9331">plantuml-proxy</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="415.0781" x="1739.3359" y="3088.2801">empc4_plantuml_proxy</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="349.5015" x="1772.1242" y="3125.6271">nginx:stable-alpine</text></g><!--cluster backendContainer--><g class="cluster" data-qualified-name="..Docker Network.. - empc4_net.backendContainer" data-source-line="111" id="ent0031"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="835.975" rx="5.8333" ry="5.8333" style="stroke:#78909C;stroke-width:1.4583;" width="640.2083" x="2289.5833" y="3478.4868"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="191.2781" x="2514.0485" y="3522.8507">&#171;container&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="326.9116" x="2446.2317" y="3583.531">plantuml-backend</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="465.177" x="2377.099" y="3620.878">empc4_plantuml_backend</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="386.7232" x="2416.3259" y="3658.225">plantuml-server:jetty</text></g><!--cluster syncContainer--><g class="cluster" data-qualified-name="..Docker Network.. - empc4_net.syncContainer" data-source-line="117" id="ent0035"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="1357.5333" rx="5.8333" ry="5.8333" style="stroke:#78909C;stroke-width:1.4583;" width="1022.2917" x="2964.7917" y="2945.8889"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-style="italic" lengthAdjust="spacing" textLength="191.2781" x="3380.2985" y="2990.2527">&#171;container&#187;</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="256.2437" x="3347.8157" y="3050.9331">plantuml-sync</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="394.5091" x="3278.683" y="3088.2801">empc4_plantuml_sync</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="470.049" x="3240.913" y="3125.6271">Flask-SocketIO + eventlet</text></g><g class="entity" data-qualified-name="..Client Layer...browserNote" data-source-line="56" id="ent0015"><path d="M849.5083,345.0243 L849.5083,744.7444 A5.8333,5.8333 0 0 0 855.3417,750.5777 L1489.6682,750.5777 A5.8333,5.8333 0 0 0 1495.5016,744.7444 L1495.5016,353.7743 L1480.9182,339.191 L855.3417,339.191 A5.8333,5.8333 0 0 0 849.5083,345.0243" fill="#FFFDE7" filter="url(#fdrzglctwjkel)" style="stroke:#FBC02D;stroke-width:1.4583;"/><path d="M1480.9182,339.191 L1480.9182,350.8577 A2.9167,2.9167 0 0 0 1483.8349,353.7743 L1495.5016,353.7743 L1480.9182,339.191" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.4583;"/><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="560.0484" x="869.925" y="385.2225">Opt-in Consent (collab-control.js):</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="473.9156" x="869.925" y="419.1743">&#8226; Loaded in HEAD before sync.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="592.0349" x="869.925" y="453.1262">&#8226; Patches window.io() &#8594; blocks join/emit</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="536.7493" x="869.925" y="487.078">&#8226; Patches window.BroadcastChannel</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="587.9049" x="869.925" y="521.0298">&#8226; Tab-ID in sessionStorage (iframe-safe)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="525.1567" x="869.925" y="554.9816">&#8226; UI: &#128993; Sync: Off [&#9654;] / &#128994; Sync: On [&#9209;]</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="869.925" y="588.9334">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="218.1803" x="869.925" y="622.8853">Privacy First:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="319.4946" x="869.925" y="656.8371">&#8226; Sync OFF by default</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="542.4459" x="869.925" y="690.7889">&#8226; No sharing without explicit consent</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="442.8975" x="869.925" y="724.7407">&#8226; Each tab starts in solo mode</text></g><!--entity monacoA--><g class="entity" data-qualified-name="..Client Layer...browserA.monacoA" data-source-line="40" id="ent0004"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="104.4303" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="311.3883" x="198.6833" y="492.666"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="480.905" y="499.9577"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="477.9883" y="502.8743"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="477.9883" y="508.7077"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="229.7217" x="232.225" y="563.2798">Monaco Editor</text></g><!--entity collabCtrlA--><g class="entity" data-qualified-name="..Client Layer...browserA.collabCtrlA" data-source-line="41" id="ent0005"><rect fill="#FFCDD2" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="373.0328" x="167.8542" y="1331.4556"/><rect fill="#FFCDD2" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="511.7203" y="1338.7473"/><rect fill="#FFCDD2" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="508.8037" y="1341.6639"/><rect fill="#FFCDD2" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="508.8037" y="1347.4973"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="291.3662" x="201.3958" y="1402.0694">collab-control.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="117.6828" x="201.3958" y="1421.8189">Opt-in Interceptor</text></g><!--entity syncA--><g class="entity" data-qualified-name="..Client Layer...browserA.syncA" data-source-line="42" id="ent0006"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="191.1698" x="99.8375" y="3180.0389"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="261.8407" y="3187.3306"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="258.924" y="3190.2473"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="258.924" y="3196.0806"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="109.5032" x="133.3792" y="3250.6527">sync.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="90.2087" x="133.3792" y="3270.4022">(Jetty built-in)</text></g><!--entity socketA--><g class="entity" data-qualified-name="..Client Layer...browserA.socketA" data-source-line="43" id="ent0007"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="338.1923" x="99.2396" y="4418.0035"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="408.2653" y="4425.2952"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="405.3486" y="4428.2118"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="405.3486" y="4434.0452"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="256.5257" x="132.7813" y="4488.6173">Socket.IO Client</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="95.2396" x="132.7813" y="4508.3668">(IIFE wrapped)</text></g><!--entity bcA--><g class="entity" data-qualified-name="..Client Layer...browserA.bcA" data-source-line="44" id="ent0008"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="374.8344" x="341.9646" y="3180.0389"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="687.6323" y="3187.3306"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="684.7156" y="3190.2473"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="684.7156" y="3196.0806"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="293.1677" x="375.5062" y="3250.6527">BroadcastChannel</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="104.4553" x="375.5062" y="3270.4022">(Tab-ID filtered)</text></g><!--entity monacoB--><g class="entity" data-qualified-name="..Client Layer...browserB.monacoB" data-source-line="48" id="ent0010"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="104.4303" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="311.3883" x="1002.225" y="1339.0973"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1284.4467" y="1346.3889"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1281.53" y="1349.3056"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1281.53" y="1355.1389"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="229.7217" x="1035.7667" y="1409.7111">Monaco Editor</text></g><!--entity collabCtrlB--><g class="entity" data-qualified-name="..Client Layer...browserB.collabCtrlB" data-source-line="49" id="ent0011"><rect fill="#FFCDD2" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="373.0328" x="971.3958" y="3180.0389"/><rect fill="#FFCDD2" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1315.262" y="3187.3306"/><rect fill="#FFCDD2" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1312.3453" y="3190.2473"/><rect fill="#FFCDD2" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1312.3453" y="3196.0806"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="291.3662" x="1004.9375" y="3250.6527">collab-control.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="117.6828" x="1004.9375" y="3270.4022">Opt-in Interceptor</text></g><!--entity syncB--><g class="entity" data-qualified-name="..Client Layer...browserB.syncB" data-source-line="50" id="ent0012"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="191.1698" x="1284.0042" y="4418.0035"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1446.0073" y="4425.2952"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1443.0907" y="4428.2118"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1443.0907" y="4434.0452"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="109.5032" x="1317.5458" y="4488.6173">sync.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="90.2087" x="1317.5458" y="4508.3668">(Jetty built-in)</text></g><!--entity socketB--><g class="entity" data-qualified-name="..Client Layer...browserB.socketB" data-source-line="51" id="ent0013"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="338.1923" x="1096.7396" y="4932.9118"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1405.7653" y="4940.2035"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1402.8486" y="4943.1202"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1402.8486" y="4948.9535"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="256.5257" x="1130.2812" y="5003.5257">Socket.IO Client</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="95.2396" x="1130.2812" y="5023.2751">(IIFE wrapped)</text></g><!--entity bcB--><g class="entity" data-qualified-name="..Client Layer...browserB.bcB" data-source-line="52" id="ent0014"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="374.8344" x="858.2146" y="4418.0035"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1203.8823" y="4425.2952"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1200.9656" y="4428.2118"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1200.9656" y="4434.0452"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="293.1677" x="891.7563" y="4488.6173">BroadcastChannel</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="104.4553" x="891.7563" y="4508.3668">(Tab-ID filtered)</text></g><!--entity hostnginx--><g class="entity" data-qualified-name="..Host Layer.. - arch.local.hostnginx" data-source-line="72" id="ent0017"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="157.0557" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="329.1639" x="1664.1625" y="1805.9535"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="1964.1598" y="1813.2452"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1961.2431" y="1816.1618"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="1961.2431" y="1821.9952"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" font-weight="bold" lengthAdjust="spacing" textLength="194.8342" x="1697.7042" y="1876.5673">Host nginx</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="247.4973" x="1697.7042" y="1896.3168">/etc/nginx/sites-available/empc4-arch</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="51.6341" x="1697.7042" y="1929.1927">:80</text></g><g class="entity" data-qualified-name="..Host Layer.. - arch.local.GMN18" data-source-line="75" id="ent0019"><path d="M2043.9271,1735.5452 L2043.9271,1878.6368 L1993.8188,1884.4702 L2043.9271,1890.3035 L2043.9271,2033.4098 A5.8333,5.8333 0 0 0 2049.7604,2039.2431 L2584.8092,2039.2431 A5.8333,5.8333 0 0 0 2590.6426,2033.4098 L2590.6426,1744.2952 L2576.0592,1729.7118 L2049.7604,1729.7118 A5.8333,5.8333 0 0 0 2043.9271,1735.5452" fill="#FFFDE7" filter="url(#fdrzglctwjkel)" style="stroke:#FBC02D;stroke-width:1.4583;"/><path d="M2576.0592,1729.7118 L2576.0592,1741.3785 A2.9167,2.9167 0 0 0 2578.9759,1744.2952 L2590.6426,1744.2952 L2576.0592,1729.7118" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.4583;"/><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="126.0091" x="2064.3438" y="1775.7433">Routes:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="415.0126" x="2064.3438" y="1809.6952">/uml/         &#8594; 127.0.0.1:8100</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="434.9508" x="2064.3438" y="1843.647">/socket.io/   &#8594; 127.0.0.1:8100</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="492.7572" x="2064.3438" y="1877.5988">/plantuml-sync/ &#8594; 127.0.0.1:8100</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="2064.3438" y="1911.5506">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="342.3808" x="2064.3438" y="1945.5025">WebSocket Headers:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="358.6446" x="2064.3438" y="1979.4543">Upgrade: $http_upgrade</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="332.7962" x="2064.3438" y="2013.4061">Connection: "upgrade"</text></g><!--entity routerProxy--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.traefik.routerProxy" data-source-line="90" id="ent0023"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="157.0557" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="326.7564" x="2086.8312" y="2616.7431"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2384.421" y="2624.0348"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2381.5043" y="2626.9514"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2381.5043" y="2632.7848"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="118.5736" x="2120.3729" y="2687.3569">Router:</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="245.0897" x="2120.3729" y="2724.7039">plantuml-proxy</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="106.2561" x="2120.3729" y="2744.4534">PathPrefix(/uml)</text></g><!--entity routerSync--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.traefik.routerSync" data-source-line="91" id="ent0024"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="157.0557" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="309.2735" x="2464.525" y="2616.7431"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2744.6318" y="2624.0348"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2741.7151" y="2626.9514"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2741.7151" y="2632.7848"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="118.5736" x="2498.0667" y="2687.3569">Router:</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="227.6068" x="2498.0667" y="2724.7039">plantuml-sync</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="174.6176" x="2498.0667" y="2744.4534">PathPrefix(/plantuml-sync)</text></g><!--entity routerSocketIO--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.traefik.routerSocketIO" data-source-line="92" id="ent0025"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="157.0557" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="454.2751" x="2825.1563" y="2616.7431"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="3250.2647" y="2624.0348"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3247.348" y="2626.9514"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3247.348" y="2632.7848"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="118.5736" x="2858.6979" y="2687.3569">Router:</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="372.6084" x="2858.6979" y="2724.7039">plantuml-sync-socketio</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="140.2606" x="2858.6979" y="2744.4534">PathPrefix(/socket.io)</text></g><!--entity proxynginx--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.proxyContainer.proxynginx" data-source-line="96" id="ent0027"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="141.7773" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="170.6008" x="2061.3688" y="3169.0139"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2202.8029" y="3176.3056"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2199.8862" y="3179.2223"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2199.8862" y="3185.0556"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="88.9341" x="2094.9104" y="3239.6277">nginx</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="51.6341" x="2094.9104" y="3276.9747">:80</text></g><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.proxyContainer.GMN28" data-source-line="99" id="ent0029"><path d="M1662.4854,3606.6014 L1662.4854,3938.4178 A5.8333,5.8333 0 0 0 1668.3188,3944.2512 L2225.4277,3944.2512 A5.8333,5.8333 0 0 0 2231.2611,3938.4178 L2231.2611,3615.3514 L2216.6777,3600.7681 L2017.1812,3600.7681 L2120.3438,3311.1431 L2005.5146,3600.7681 L1668.3188,3600.7681 A5.8333,5.8333 0 0 0 1662.4854,3606.6014" fill="#FFFDE7" filter="url(#fdrzglctwjkel)" style="stroke:#FBC02D;stroke-width:1.4583;"/><path d="M2216.6777,3600.7681 L2216.6777,3612.4348 A2.9167,2.9167 0 0 0 2219.5944,3615.3514 L2231.2611,3615.3514 L2216.6777,3600.7681" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.4583;"/><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="464.915" x="1682.9021" y="3646.7996">HEAD Injections (sub_filter):</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="474.7986" x="1682.9021" y="3680.7514">&#8226; socket.io.min.js (IIFE wrapped)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="17.2038" x="1682.9021" y="3714.7032">&#8226;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="264.8783" x="1709.3771" y="3714.7032">collab-control.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="102.7954" x="1983.5267" y="3714.7032">&#8592; NEW</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="1682.9021" y="3748.6551">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="274.9613" x="1682.9021" y="3782.6069">BODY Injections:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="212.1419" x="1682.9021" y="3816.5587">&#8226; global-nav.js</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="1682.9021" y="3850.5105">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="247.1619" x="1682.9021" y="3884.4624">Order matters!</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="514.8173" x="1682.9021" y="3918.4142">socket.io &#8594; collab-control &#8594; sync.js</text></g><!--entity jetty--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.backendContainer.jetty" data-source-line="112" id="ent0032"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="141.7773" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="174.1256" x="2341.0625" y="3701.6118"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2486.0214" y="3708.9035"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2483.1047" y="3711.8202"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2483.1047" y="3717.6535"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="73.3468" x="2374.6042" y="3772.2257">Jetty</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="92.4589" x="2374.6042" y="3809.5727">:8080</text></g><!--entity renderer--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.backendContainer.renderer" data-source-line="113" id="ent0033"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="141.7773" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="231.5403" x="2312.3479" y="4149.3493"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2514.7216" y="4156.641"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2511.8049" y="4159.5577"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2511.8049" y="4165.391"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="149.8737" x="2345.8896" y="4219.9632">PlantUML</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="148.5891" x="2345.8896" y="4257.3102">Renderer</text></g><!--entity monacoServer--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.backendContainer.monacoServer" data-source-line="114" id="ent0034"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="141.7773" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="311.3883" x="2594.725" y="4149.3493"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="2876.9467" y="4156.641"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2874.03" y="4159.5577"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="2874.03" y="4165.391"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="229.7217" x="2628.2667" y="4219.9632">Monaco Editor</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="146.5839" x="2628.2667" y="4257.3102">+ sync.js</text></g><!--entity flask--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.syncContainer.flask" data-source-line="118" id="ent0036"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="141.7773" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="236.8667" x="3008.2354" y="3169.0139"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="3215.9354" y="3176.3056"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3213.0187" y="3179.2223"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3213.0187" y="3185.0556"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="155.2" x="3041.7771" y="3239.6277">Flask App</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="92.4589" x="3041.7771" y="3276.9747">:5001</text></g><!--entity socketioNS--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.syncContainer.socketioNS" data-source-line="119" id="ent0037"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="179.1243" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="320.0828" x="2988.5042" y="3682.9452"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="3279.4203" y="3690.2368"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3276.5036" y="3693.1535"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3276.5036" y="3698.9868"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="143.2471" x="3022.0458" y="3753.559">SocketIO</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="199.5809" x="3022.0458" y="3790.906">Namespace:</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="238.4161" x="3022.0458" y="3828.253">/plantuml-sync</text></g><!--entity roomsDict--><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.syncContainer.roomsDict" data-source-line="120" id="ent0038"><rect fill="#FFFFFF" filter="url(#fdrzglctwjkel)" height="119.7087" rx="5.8333" ry="5.8333" style="stroke:#000000;stroke-width:1.4583;" width="270.3912" x="3013.3396" y="4160.3889"/><rect fill="#FFFFFF" height="14.5833" style="stroke:#000000;stroke-width:1.4583;" width="21.875" x="3254.5642" y="4167.6806"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3251.6475" y="4170.5973"/><rect fill="#FFFFFF" height="2.9167" style="stroke:#000000;stroke-width:1.4583;" width="5.8333" x="3251.6475" y="4176.4306"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="188.7246" x="3046.8813" y="4231.0027">rooms_data</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="154.5264" x="3046.8813" y="4250.7522">{ room: {text, users} }</text></g><g class="entity" data-qualified-name="..Docker Network.. - empc4_net.syncContainer.GMN39" data-source-line="123" id="ent0040"><path d="M3360,3589.6264 L3360,3955.3947 A5.8333,5.8333 0 0 0 3365.8333,3961.228 L3957.9053,3961.228 A5.8333,5.8333 0 0 0 3963.7386,3955.3947 L3963.7386,3598.3764 L3949.1553,3583.7931 L3478.3,3583.7931 L3197.1917,3311.1431 L3466.6333,3583.7931 L3365.8333,3583.7931 A5.8333,5.8333 0 0 0 3360,3589.6264" fill="#FFFDE7" filter="url(#fdrzglctwjkel)" style="stroke:#FBC02D;stroke-width:1.4583;"/><path d="M3949.1553,3583.7931 L3949.1553,3595.4598 A2.9167,2.9167 0 0 0 3952.0719,3598.3764 L3963.7386,3598.3764 L3949.1553,3583.7931" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.4583;"/><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="549.7803" x="3380.4167" y="3629.8246">Critical: eventlet.monkey_patch()</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="327.769" x="3380.4167" y="3663.7764">must be FIRST import!</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="3380.4167" y="3697.7282">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="122.4487" x="3380.4167" y="3731.6801">Events:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="433.8969" x="3380.4167" y="3765.6319">&#8226; connect &#8594; send 'connected'</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="285.1583" x="3380.4167" y="3799.5837">&#8226; join &#8594; enter room</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="17.2038" x="3380.4167" y="3833.5355">&#8226;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="88.2548" x="3406.8917" y="3833.5355">leave</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="311.9324" x="3504.4177" y="3833.5355">&#8594; exit room (opt-out)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="453.3651" x="3380.4167" y="3867.4874">&#8226; diagram_update &#8594; broadcast</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="423.6287" x="3380.4167" y="3901.4392">&#8226; cursor_update &#8594; broadcast</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="443.8944" x="3380.4167" y="3935.391">&#8226; disconnect(*args) &#8594; cleanup</text></g><g class="entity" data-qualified-name="N1" data-source-line="178" id="ent0062"><path d="M1592.675,277.1098 L1592.675,812.6371 A5.8333,5.8333 0 0 0 1598.5083,818.4704 L2633.5775,818.4704 A5.8333,5.8333 0 0 0 2639.4108,812.6371 L2639.4108,285.8598 L2624.8275,271.2764 L1598.5083,271.2764 A5.8333,5.8333 0 0 0 1592.675,277.1098" fill="#FFFDE7" filter="url(#fdrzglctwjkel)" style="stroke:#FBC02D;stroke-width:1.4583;"/><path d="M2624.8275,271.2764 L2624.8275,282.9431 A2.9167,2.9167 0 0 0 2627.7442,285.8598 L2639.4108,285.8598 L2624.8275,271.2764" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.4583;"/><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="289.4307" x="1613.0917" y="317.3079">Opt-in Sync Flow:</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="992.7775" x="1613.0917" y="351.2597">1. Page loads &#8594; collab-control.js patches io() and BroadcastChannel</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="958.0709" x="1613.0917" y="385.2116">2. sync.js calls io() &#8594; intercepted, socket created but join blocked</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="400.116" x="1613.0917" y="419.1634">3. UI shows: &#128993; Sync: Off [&#9654;]</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="809.3323" x="1613.0917" y="453.1152">4. User clicks [&#9654;] &#8594; EMPC4_toggleSync() &#8594; join emitted</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="393.1376" x="1613.0917" y="487.067">5. UI shows: &#128994; Sync: On [&#9209;]</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="824.2147" x="1613.0917" y="521.0189">6. On edit: diagram_update allowed (syncEnabled=true)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="698.0489" x="1613.0917" y="554.9707">7. Server broadcasts to room (skip_sid=sender)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="799.0072" x="1613.0917" y="588.9225">8. User clicks [&#9209;] &#8594; leave emitted &#8594; back to solo mode</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="9.2712" x="1613.0917" y="622.8743">&#160;</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="583.2621" x="1613.0917" y="656.8262">BroadcastChannel (Same Browser):</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="696.7814" x="1613.0917" y="690.778">&#8226; Each tab has unique Tab-ID in sessionStorage</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="604.6387" x="1613.0917" y="724.7298">&#8226; Outgoing messages tagged with Tab-ID</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="835.7931" x="1613.0917" y="758.6816">&#8226; Incoming from OWN Tab-ID &#8594; always allowed (internal)</text><text fill="#000000" font-family="'Segoe UI'" font-size="29.1667" lengthAdjust="spacing" textLength="784.2957" x="1613.0917" y="792.6334">&#8226; Incoming from OTHER Tab-ID &#8594; blocked if Sync OFF</text></g><!--link browserA to hostnginx--><g class="link" data-entity-1="ent0003" data-entity-2="ent0017" data-link-type="dependency" data-source-line="140" id="lnk42"><path d="M765.5518,824.2547 C766.5145,824.861 767.5298,825.4556 768.5969,826.0384 C772.8652,828.37 777.9613,830.5155 783.8273,832.4885 C795.5594,836.4344 810.3713,839.69 827.8002,842.363 C862.6581,847.7091 907.9841,850.7246 960.076,852.2707 C1064.2598,855.3631 1195.507,852.5781 1324.1995,850.8053 C1581.5844,847.2598 1828.75,847.7629 1828.75,907.4306 C1828.75,907.4306 1828.75,907.4306 1828.75,1392.7785 C1828.75,1538.5243 1828.75,1699.9035 1828.75,1796.5764" fill="none" id="browserA-to-hostnginx" style="stroke:#1976D2;stroke-width:2.9167;"/><polygon fill="#1976D2" points="1828.75,1805.3264,1834.5833,1792.2014,1828.75,1798.0348,1822.9167,1792.2014,1828.75,1805.3264" style="stroke:#1976D2;stroke-width:2.9167;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="207.3981" x="1841.875" y="1102.0027">HTTP/WS :80</text></g><!--link browserB to hostnginx--><g class="link" data-entity-1="ent0009" data-entity-2="ent0017" data-link-type="dependency" data-source-line="141" id="lnk43"><path d="M1522.5961,1457.679 C1523.0834,1459.7707 1523.5881,1461.8896 1524.1104,1464.032 C1525.1549,1468.3169 1526.2703,1472.6957 1527.4594,1477.1387 C1529.8376,1486.0247 1532.5111,1495.1678 1535.5045,1504.3299 C1541.4911,1522.654 1548.7573,1541.0546 1557.5,1557.6285 C1607.2583,1651.9535 1681.5631,1737.5483 1741.9381,1799.4837" fill="none" id="browserB-to-hostnginx" style="stroke:#1976D2;stroke-width:2.9167;"/><polygon fill="#1976D2" points="1748.0458,1805.7493,1743.0613,1792.2791,1742.956,1800.528,1734.7071,1800.4228,1748.0458,1805.7493" style="stroke:#1976D2;stroke-width:2.9167;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="207.3981" x="1570.625" y="1537.8257">HTTP/WS :80</text></g><!--link hostnginx to traefik--><g class="link" data-entity-1="ent0017" data-entity-2="ent0022" data-link-type="dependency" data-source-line="144" id="lnk44"><path d="M1885.2312,1963.5556 C1919.05,2003.7473 1965.6292,2049.4952 2018.3333,2074.2431 C2277.9604,2196.1889 3104.4271,1991.3223 3303.125,2198.2014 C3378.3385,2276.5139 3386.2245,2397.7999 3374.8385,2500.7855 C3369.1456,2552.2784 3358.6346,2599.1962 3349.3127,2633.8797 C3346.9822,2642.5505 3347.22,2642.0697 3345.132,2649.0916" fill="none" id="hostnginx-to-traefik" style="stroke:#F57C00;stroke-width:2.9167;"/><polygon fill="#F57C00" points="3342.638,2657.4787,3351.9703,2646.5607,3344.7163,2650.4895,3340.7876,2643.2355,3342.638,2657.4787" style="stroke:#F57C00;stroke-width:2.9167;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="180.6567" x="3336.0275" y="2128.8152">proxy_pass</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="245.5284" x="3303.5917" y="2166.1622">127.0.0.1:8100</text></g><!--link routerProxy to proxynginx--><g class="link" data-entity-1="ent0023" data-entity-2="ent0027" data-link-type="dependency" data-source-line="147" id="lnk45"><path d="M2235.3771,2774.3452 C2215.2083,2879.8118 2181.1076,3058.2342 2161.7118,3159.6904" fill="none" id="routerProxy-to-proxynginx" style="stroke:#7B1FA2;stroke-width:2.1875;"/><polygon fill="#7B1FA2" points="2160.0688,3168.2848,2168.2629,3156.4886,2161.4379,3161.1228,2156.8037,3154.2979,2160.0688,3168.2848" style="stroke:#7B1FA2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="51.6341" x="2234.1667" y="2894.7319">:80</text></g><!--link routerSync to flask--><g class="link" data-entity-1="ent0024" data-entity-2="ent0036" data-link-type="dependency" data-source-line="148" id="lnk46"><path d="M2691.8792,2774.3452 C2790.6812,2879.8118 2959.918,3060.4427 3054.9576,3161.8989" fill="none" id="routerSync-to-flask" style="stroke:#7B1FA2;stroke-width:2.1875;"/><polygon fill="#7B1FA2" points="3060.9396,3168.2848,3056.2239,3154.7181,3055.9546,3162.9632,3047.7094,3162.694,3060.9396,3168.2848" style="stroke:#7B1FA2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="92.4589" x="2840.5854" y="2894.7319">:5001</text></g><!--link routerSocketIO to flask--><g class="link" data-entity-1="ent0025" data-entity-2="ent0036" data-link-type="dependency" data-source-line="149" id="lnk47"><path d="M3062.9521,2774.3452 C3077.4333,2879.8118 3101.9088,3058.16 3115.8505,3159.6162" fill="none" id="routerSocketIO-to-flask" style="stroke:#7B1FA2;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#7B1FA2" points="3117.0417,3168.2848,3121.0339,3154.4878,3116.049,3161.061,3109.4759,3156.0761,3117.0417,3168.2848" style="stroke:#7B1FA2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="92.4589" x="3095.9396" y="2886.7111">:5001</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="73.7833" x="3105.2774" y="2906.4605">WebSocket</text></g><!--link proxynginx to jetty--><g class="link" data-entity-1="ent0027" data-entity-2="ent0032" data-link-type="dependency" data-source-line="152" id="lnk48"><path d="M2183.7521,3311.1431 C2237.6375,3412.5556 2332.9174,3591.8744 2386.8465,3693.3744" fill="none" id="proxynginx-to-jetty" style="stroke:#388E3C;stroke-width:2.1875;"/><polygon fill="#388E3C" points="2390.9521,3701.1014,2389.9451,3686.7739,2387.5308,3694.6622,2379.6424,3692.2479,2390.9521,3701.1014" style="stroke:#388E3C;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="180.6567" x="2282.2332" y="3397.434">proxy_pass</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="211.0482" x="2267.0375" y="3434.781">/uml &#8594; :8080</text></g><!--link jetty to renderer--><g class="link" data-entity-1="ent0032" data-entity-2="ent0033" data-link-type="dependency" data-source-line="155" id="lnk49"><path d="M2428.125,3843.9598 C2428.125,3927.2598 2428.125,4056.7889 2428.125,4140.0743" fill="none" id="jetty-to-renderer" style="stroke:#000000;stroke-width:2.1875;"/><polygon fill="#000000" points="2428.125,4148.8243,2433.9583,4135.6993,2428.125,4141.5327,2422.2917,4135.6993,2428.125,4148.8243" style="stroke:#000000;stroke-width:2.1875;"/></g><!--link jetty to monacoServer--><g class="link" data-entity-1="ent0032" data-entity-2="ent0034" data-link-type="dependency" data-source-line="156" id="lnk50"><path d="M2478.8312,3843.9598 C2539.1917,3927.2598 2634.2598,4058.4534 2694.6056,4141.7388" fill="none" id="jetty-to-monacoServer" style="stroke:#000000;stroke-width:2.1875;"/><polygon fill="#000000" points="2699.7396,4148.8243,2696.7624,4134.7734,2695.4613,4142.9197,2687.315,4141.6187,2699.7396,4148.8243" style="stroke:#000000;stroke-width:2.1875;"/></g><!--link flask to socketioNS--><g class="link" data-entity-1="ent0036" data-entity-2="ent0037" data-link-type="dependency" data-source-line="159" id="lnk51"><path d="M3129.5542,3311.1431 C3133.4917,3406.6639 3140.219,3569.3922 3144.521,3673.8088" fill="none" id="flask-to-socketioNS" style="stroke:#000000;stroke-width:2.1875;"/><polygon fill="#000000" points="3144.8812,3682.5514,3150.1693,3669.1974,3144.5811,3675.2659,3138.5126,3669.6777,3144.8812,3682.5514" style="stroke:#000000;stroke-width:2.1875;"/></g><!--link socketioNS to roomsDict--><g class="link" data-entity-1="ent0037" data-entity-2="ent0038" data-link-type="dependency" data-source-line="160" id="lnk52"><path d="M3148.5417,3862.3785 C3148.5417,3950.7973 3148.5417,4075.5285 3148.5417,4151.5514" fill="none" id="socketioNS-to-roomsDict" style="stroke:#000000;stroke-width:2.1875;"/><polygon fill="#000000" points="3148.5417,4160.3014,3154.375,4147.1764,3148.5417,4153.0098,3142.7083,4147.1764,3148.5417,4160.3014" style="stroke:#000000;stroke-width:2.1875;"/></g><!--link monacoA to collabCtrlA--><g class="link" data-entity-1="ent0004" data-entity-2="ent0005" data-link-type="dependency" data-source-line="163" id="lnk53"><path d="M354.375,597.1993 C354.375,745.016 354.375,1165.2202 354.375,1322.4577" fill="none" id="monacoA-to-collabCtrlA" style="stroke:#1976D2;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#1976D2" points="354.375,1331.2077,360.2083,1318.0827,354.375,1323.916,348.5417,1318.0827,354.375,1331.2077" style="stroke:#1976D2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="162.7979" x="367.5" y="995.5444">onChange</text></g><!--link collabCtrlA to syncA--><g class="link" data-entity-1="ent0005" data-entity-2="ent0006" data-link-type="dependency" data-source-line="164" id="lnk54"><path d="M346.0625,1451.5348 C329.4229,1570.8556 291.7542,1850.2285 269.7917,2085.9098 C230.8104,2504.1598 206.2153,3000.9794 198.4278,3170.8314" fill="none" id="collabCtrlA-to-syncA" style="stroke:#D32F2F;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#D32F2F" points="198.0271,3179.5723,204.4554,3166.7282,198.361,3172.2883,192.801,3166.1939,198.0271,3179.5723" style="stroke:#D32F2F;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="145.08" x="282.9167" y="2147.7736">intercept</text></g><!--link syncA to socketA--><g class="link" data-entity-1="ent0006" data-entity-2="ent0007" data-link-type="dependency" data-source-line="165" id="lnk55"><path d="M198.8875,3300.0889 C211.1667,3508.1493 252.009,4199.9542 264.332,4408.5687" fill="none" id="syncA-to-socketA" style="stroke:#1976D2;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#1976D2" points="264.8479,4417.3035,269.8972,4403.8574,264.4179,4410.0245,258.2508,4404.5453,264.8479,4417.3035" style="stroke:#1976D2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="72.4851" x="315.007" y="4047.8798">emit</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="184.5575" x="258.9708" y="4085.2268">(if enabled)</text></g><!--link collabCtrlA to bcA--><g class="link" data-entity-1="ent0005" data-entity-2="ent0008" data-link-type="dependency" data-source-line="166" id="lnk56"><path d="M363.3729,1451.5202 C381.3688,1570.8118 422.1438,1850.1264 446.25,2085.9098 C488.9938,2504.0139 516.9868,3000.9239 525.9118,3170.8197" fill="none" id="collabCtrlA-to-bcA" style="stroke:#D32F2F;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#D32F2F" points="526.3708,3179.5577,531.5076,3166.1447,525.9883,3172.2761,519.857,3166.7568,526.3708,3179.5577" style="stroke:#D32F2F;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="74.6313" x="484.1493" y="2128.8152">filter</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="105.3674" x="468.7812" y="2166.1622">Tab-ID</text></g><!--link monacoB to collabCtrlB--><g class="link" data-entity-1="ent0010" data-entity-2="ent0011" data-link-type="dependency" data-source-line="168" id="lnk57"><path d="M1157.9167,1444.0681 C1157.9167,1706.7868 1157.9167,2891.4785 1157.9167,3170.9973" fill="none" id="monacoB-to-collabCtrlB" style="stroke:#1976D2;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#1976D2" points="1157.9167,3179.7473,1163.75,3166.6223,1157.9167,3172.4556,1152.0833,3166.6223,1157.9167,3179.7473" style="stroke:#1976D2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="162.7979" x="1171.0417" y="2147.7736">onChange</text></g><!--link collabCtrlB to syncB--><g class="link" data-entity-1="ent0011" data-entity-2="ent0012" data-link-type="dependency" data-source-line="169" id="lnk58"><path d="M1168.4604,3300.0889 C1205.7938,3508.1493 1329.9852,4200.0766 1367.4352,4408.6912" fill="none" id="collabCtrlB-to-syncB" style="stroke:#D32F2F;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#D32F2F" points="1368.9813,4417.3035,1372.4037,4403.3543,1367.6929,4410.1266,1360.9206,4405.4157,1368.9813,4417.3035" style="stroke:#D32F2F;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="145.08" x="1324.3708" y="4066.8382">intercept</text></g><!--link syncB to socketB--><g class="link" data-entity-1="ent0012" data-entity-2="ent0013" data-link-type="dependency" data-source-line="170" id="lnk59"><path d="M1366.5312,4538.0535 C1344.6562,4636.5493 1302.7023,4825.364 1280.7981,4923.9327" fill="none" id="syncB-to-socketB" style="stroke:#1976D2;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#1976D2" points="1278.9,4932.4743,1287.4416,4920.9273,1280.4818,4925.3563,1276.0528,4918.3965,1278.9,4932.4743" style="stroke:#1976D2;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="72.4851" x="1400.0508" y="4741.0257">emit</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="184.5575" x="1344.0146" y="4778.3727">(if enabled)</text></g><!--link collabCtrlB to bcB--><g class="link" data-entity-1="ent0011" data-entity-2="ent0014" data-link-type="dependency" data-source-line="171" id="lnk60"><path d="M1152.5792,3300.0889 C1133.6646,3508.1493 1070.7571,4199.9749 1051.7842,4408.5895" fill="none" id="collabCtrlB-to-bcB" style="stroke:#D32F2F;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#D32F2F" points="1050.9917,4417.3035,1057.9898,4404.7608,1051.6521,4410.0418,1046.3711,4403.7041,1050.9917,4417.3035" style="stroke:#D32F2F;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="74.6313" x="1116.1472" y="4047.8798">filter</text><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="105.3674" x="1100.7792" y="4085.2268">Tab-ID</text></g><!--link bcA to bcB--><g class="link" data-entity-1="ent0008" data-entity-2="ent0014" data-link-type="dependency" data-source-line="174" id="lnk61"><path d="M536.7602,3309.1122 C554.056,3453.3997 609.4083,3823.8348 749.5833,4105.5993 C810.8625,4228.7702 912.0489,4342.7831 979.2635,4411.5144" fill="none" id="bcA-bcB" style="stroke:#FF5722;stroke-width:2.1875;stroke-dasharray:10.2083,10.2083;"/><polygon fill="#FF5722" points="535.7188,3300.4243,531.489,3314.1503,536.5866,3307.6642,543.0727,3312.7618,535.7188,3300.4243" style="stroke:#FF5722;stroke-width:2.1875;"/><polygon fill="#FF5722" points="985.3813,4417.7702,980.3751,4404.3079,980.2831,4412.557,972.034,4412.465,985.3813,4417.7702" style="stroke:#FF5722;stroke-width:2.1875;"/><text fill="#000000" font-family="'Segoe UI'" font-size="32.0833" lengthAdjust="spacing" textLength="293.1677" x="762.7083" y="4058.8173">BroadcastChannel</text><text fill="#000000" font-family="'Segoe UI'" font-size="13.125" lengthAdjust="spacing" textLength="139.3185" x="839.6329" y="4078.5668">(blocked if Sync OFF)</text></g><?plantuml-src jLdRRXl94NtdL_Hg0vZYcbTPAvcm1MZ8OSIDJ2gc5C5P6K9pfacsDUoPz3HrMST0dlAQ80zvNMG_8a1-nr-GJqXLTy-D74fEu5208CvKdQvxLPU-KGksP2GAA1UL-8QBY4gw97x4IVj5A_TaIhsRkGnNmk-5GIZ9jvq3_CbHAAu2DWY5iWG3_IaZcF2V6DaxpBsA5zGFxxYO4oLNB2y8cz5Le91hH47GdGcRXunS37VAYJHqfvDxUInbU7U-uDwDO75CsetztCktHY4fc2HvUSwexwCqXvMAbfhKQcS15UhYpIa1zG8w3ILLF1Haei0mf0x7U0kkcATMaf5REANHhjMknAiO1EgsNnpDkLgifWqlN3P_27zFerdJVNFMUr7tG6YmFPD0vzTlURoY0Vz9OzUPkEKo54icrAic0Xtb03Kx-TrmOaNu8xbaqqdetJ159W_28xUS4lEzCHp3wrfj7Aaw5w20Y06oLhEWbSepyXe_P7B-xdGu-hNvbZE71Bsec8CTFbO8V9nYCBnwDGKRnqmU7P5ltRr1Pz0tPA7qcTmaQRyy-BxVAKTQXB526WYTFRUr2PE-tp_ejLhb63vgROGv7EoxBpTHCegzmqDthrUEa_h62eJXl05L83euVDbwkGLDISfc_4PZxRdxW_rDh1p9WTCU76-n4HUAIOz5AhIIkOxhRgAjaVNtEk2PogTAph4YL5jygXNkkmVhiF3SwRKwni5PnhKGDmaZv-tuSkA-9QV7x-2t2QOiX7PgjLx08G39ANrWibRR8VdeCDBao1tpYXnVYUeb5r0dujqTGcDYUOuj2tuWlQ9G8FREcr1GBoIkpq5_JR_KJuxBY6irJsUrJaSP1eqFSPQzBuziuWmpWzhKqRY6jQTaS8nMw_LjRA-T4KDI0cw6Mls1AVL0fYiU8Fnk7XE9IoNDCjeOCGSt70vSSYTf536_2APvIk70kDJtQAnw2oe42t9mvs2EOP_CG3ecrn2dLhXF-lSsZpdWiOlfIgXLmM7EV-Smv__eCEUhEipvkWvplgh3d7M7wTpFl3A2h-c1wxs2L3VClTkjrLBwpt_wXPo2OCmdm7JY7lV9bCr2Q8NMY0NACwgy1Ol9dSxc1W-hk-Jpd_z6fW7e7PCF8HTDjkJgCQPrEnHehIL0b1XwFhJI2KG0dJDIvJCeUwmUqndRBR1S3Blatp___0_TExjaF9kH7p___P_lIHCV_v8y5l3qB_zwdxBcB7Oc-Itr7iY0orYj6qTtvF5WGAOFoRXIU3yASGQIE7FSmQGGhXHXzr70FQx0-ze71NgNUWkYw9J4YaeLQrMXF4FA-CQBJFZQm_cwV3AUd6yloYVGMPEI30CDXO6c0GwX0TPdstPDuXRoKBE9EHVt-GHiCkKrzLC8GiNYEhsb708eOE3Po7jHH_XqgEaUjdIKuYcQQIrA9Pyl50bdQmJ6xZ33mG5vWpTNow19KdD1PBKx1uqM_BIxXsqxDMX2asWGWSqd22ES_W2sZl7SV8mq9rasa9qmo0rP4F8Ycajus2M_MYWLNQ_Cr_Gr99u0xq3iTicEVRcprRFzSUytZpNSlfvto8Yfkr3UQFzgDrmBfj2zwJpqiRIWrshdPZ915nj6EwfSYQ8P42oROi2bzajvoTUkazqhaPetak7zGnP6aFIBCma0zrLqQg6aISryXWnVXeskAuSka9GSWjdxvMVKJLJniFomDERA3jBlXkD7cckjLZHMvfBa-RKreawKBXG8oBew3I8OKj4z-O4L3jR4lUHPkPyqKfQccgMOXkaVEb-deLBX4XEsXDJaXkuHG_71n7XCgl5gUcrQLw6p90KljLfZoGKq55BidXlqfGC2vErVoSYzB52l2UQC--zoWfN9CW_2AGtgWjxcEri9rXZ7PhAa2hIAlrb3IZNIrQGehNwqtZhJnF-YuC0BEt2KX8TzauzQ9cyXZZ_WU5CI8fRXYI3Hmv4E4Xic6gwCChbANuct00kpYXdtfFtov71u9RvBZ9ER4oTQYIyp3dANMCPKY450uvjwaehaEy9kGOR0LCerqo374tRHSEGuYi0s-wrMMuiymuVRnyNX-4hWlYEEgCUWlXGhL6v6vE5eKWOZmt0PN_jKqQm8VIJuj4i-AdQldfCLU3t-H3uLgn2mzRcddapieW8ct7kIAmu3GpUrM0DSSyCUhYCStggxQncmNC7eC6LaC7mBWma7uQNwvh5ySX6sD2KzqovDtc2YFBDFcFziWnW7J4t9y7wWbIwf7m6ZjqpN322yXpaCwKWrXC4OQlLcnV4vXIwzX4uEPcTce4s6r4rvLp8EvPVH-ZosobHhLCvZConx89zOHTkgGsuuw8r78xTtFXoF9dOsW5V97Ks512UuIdgPhlzezpFFLR8qUzrvNp_APYy24yd9-VbPyt92i2LKqdlT_y0BekW94kImCqOb8mOyi-TPnqkc2a3J7GO2B8utPX44jw2wly9qNSbD3GXlrYm8cNKgHDMoPSs_IAfZNrFfVAuKUtT6-zodyOBvconPJgOZOfA5ABEH3YpYcC9RoSa6u6PbXQYwmguR0GSb7I6c4YEWlWSB6YILl68Owm2H5jtiKQ6S0hSs0BSG5QC9qkKgKFQd0KtB2B3RqWtgv1PI-3NfRtOlGngD97pUDnf7XRKAg1WAlEdDOGZElq0UizZIF7fjWjJfKJiLysmDtAv4a1HlcbS2ReQGGZWg-RkF7Z4r1vXHvKgOgoPOsIuhjclXRDF2ATF2AT72ATV2ULeBPrCBfrGBNHWA5sieqEgECO6tJHpJS0jl4twtWiPuXT03oDDE6l2v4nxPL-ZhFcuCPkdrU3UV1dOdxVxsmXtrN38u7L_Q-fMiBaRjIc5ReM46GNYNj8XsWvpXlJy08UAIEGi7oSWk5lGQWa8LBLqjT1f9l1BeS84bHyJKISn_RZr2FCcWhlja2lTutMsihXfghq4kXd3T1nkMxnmqrGkWmWBj1HoN8cOPWUVfnV-r2kSmr22Z5KCVWr6Wx37xQyUKxZ2-R-1t1cDLTxs1WPRX7UXGHRrT4rIlyTypflKTD8Wf4LddYZ6hJPUCRtXq7NF_TQphYs4vN5S9fD2owrQR26-w8VvB0sj4OQbXlRqHejK9HgLjQUdreR0dMK2uh0J_mufjtGwbJEELceUuYe41B8ONe1UTpq4oNCrOzfHuA63iGkAP1CN7bwC47zMWmHrzY3DJ9bLqTnlx-GbSu7C09JbIIJhzVm00?></g></svg>